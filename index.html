<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wiki Compiler</title>
    <meta name="theme-color" content="#1f2937">
    <link rel="manifest" href="data:application/manifest+json;base64,eyJuYW1lIjoiV2lraSBDb21waWxlciIsInNob3J0X25hbWUiOiJXaWtpQ29tcGlsZXIiLCJkZXNjcmlwdGlvbiI6IkEgcHJlbWl1bSBrbm93bGVkZ2UgbWFuYWdlbWVudCBhbmQgcmVzZWFyY2ggZW52aXJvbm1lbnQgZGVzaWduZWQgdG8gY3VyYXRlLCBjdXN0b21pemUsIGFuZCBjb25zdW1lIGtub3dsZWRnZSBmcm9tIFdpa2lwZWRpYS4gVHJhbnNmb3JtIHBhc3NpdmUgcmVhZGluZyBpbnRvIGFuIGFjdGl2ZSwgY3JlYXRpdmUgYWN0IG9mIGtub3dsZWRnZSBhc3NlbWJseS4iLCJzdGFydF91cmwiOiIuIiwiZGlzcGxheSI6InN0YW5kYWxvbmUiLCJiYWNrZ3JvdW5kX2NvbG9yIjoiIzExMTgyNyIsInRoZW1lX2NvbG9yIjoiIzFmMjkzNyIsImljb25zIjpbeyJzcmMiOiJodHRwczovL3BsYWNlaG9sZC5jby8xOTJ4MTkyLzNiODJmNi9mZmZmZmY/dGV4dD1XIiwidHlwZSI6ImltYWdlL3BuZyIsInNpemVzIjoiMTkyeDE5MiJ9LHsic3JjIjoiaHR0cHM6Ly9wbGFjZWhvbGQuY28vNTEyeDUxMi8zYjgyZjYvZmZmZmZmP3RleHQ9VyIsInR5cGUiOiJpbWFnZS9wbmciLCJzaXplcyI6IjUxMng1MTIifV19">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --accent-color: 39 110 241; /* Blue */
            font-family: 'Inter', sans-serif;
        }

        /* Basic Reset & Font Smoothing */
        *, *::before, *::after {
            box-sizing: border-box;
        }
        body, h1, h2, h3, h4, p, figure, blockquote, dl, dd {
            margin: 0;
        }
        body {
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        /* TailwindCSS Prose styles for rendered Wikipedia articles */
        .prose a { color: rgb(var(--accent-color)); }
        .prose a:hover { text-decoration: underline; }
        .prose img { border-radius: 0.5rem; }
        .prose .infobox {
            border: 1px solid #a2a9b1;
            margin: 0.5em 0 0.5em 1em;
            padding: 0.2em;
            float: right;
            clear: right;
            font-size: 88%;
            line-height: 1.5em;
        }

        /* Responsive Infobox */
        .prose .infobox {
            max-width: 22em; /* Keep max-width for large screens */
            width: auto;     /* Allow it to shrink */
            float: none;     /* Disable float on small screens */
            margin: 1em 0; /* Center it with vertical margin */
        }
        @media (min-width: 640px) { /* sm breakpoint */
            .prose .infobox {
                float: right;
                clear: right;
                margin: 0.5em 0 0.5em 1em;
            }
        }
        
        .dark .prose .infobox {
            border-color: #72777d;
            background-color: #202122;
        }
        
        .prose h1, .prose h2, .prose h3, .prose h4, .prose h5, .prose h6 {
            font-weight: 700;
        }
        .dark .prose {
          --tw-prose-body: #d1d5db;
          --tw-prose-headings: #f9fafb;
          --tw-prose-lead: #e5e7eb;
          --tw-prose-links: #93c5fd;
          --tw-prose-bold: #f9fafb;
          --tw-prose-counters: #9ca3af;
          --tw-prose-bullets: #6b7280;
          --tw-prose-hr: #4b5563;
          --tw-prose-quotes: #f3f4f6;
          --tw-prose-quote-borders: #4b5563;
          --tw-prose-captions: #9ca3af;
          --tw-prose-code: #f9fafb;
          --tw-prose-pre-code: #e5e7eb;
          --tw-prose-pre-bg: #1f2937;
          --tw-prose-th-borders: #4b5563;
          --tw-prose-td-borders: #374151;
        }

        /* Lexical Editor Styles */
        .editor-input {
            caret-color: rgb(5, 5, 5);
            position: relative;
            tab-size: 1;
            outline: 0;
            padding: 10px;
            user-select: text;
            white-space: pre-wrap;
            word-break: break-word;
            min-height: 200px;
        }
        .dark .editor-input {
            caret-color: #eee;
        }
        .editor-placeholder {
            color: #999;
            overflow: hidden;
            position: absolute;
            text-overflow: ellipsis;
            top: 10px;
            left: 10px;
            font-size: 1rem;
            user-select: none;
            display: inline-block;
            pointer-events: none;
        }
        
        /* Custom Animations */
        @keyframes pop-in {
            0% { transform: scale(0.8); opacity: 0; }
            70% { transform: scale(1.05); opacity: 1; }
            100% { transform: scale(1); opacity: 1; }
        }
        .animate-pop-in {
            animation: pop-in 0.3s ease-out forwards;
        }

        @keyframes fade-in {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
            opacity: 0; /* Start hidden */
            animation: fade-in 0.5s ease-out forwards;
        }
        
        /* Slide Over Panel Animations */
        .slide-over-panel, .slide-over-overlay {
            transition-property: transform, opacity;
            transition-duration: 300ms;
            transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Drag and Drop Visual Feedback */
        .dragging-item {
            opacity: 0.5;
            background: rgb(var(--accent-color) / 0.1);
        }
        .drop-indicator {
            position: relative;
        }
        .drop-indicator::before {
            content: '';
            position: absolute;
            top: -3px;
            left: 0;
            right: 0;
            height: 4px;
            background-color: rgb(var(--accent-color));
            border-radius: 2px;
        }
    </style>
    <script type="importmap">
    {
      "imports": {
        "file-saver": "https://aistudiocdn.com/file-saver@^2.0.5",
        "@lexical/react/": "https://aistudiocdn.com/@lexical/react@^0.35.0/",
        "docx": "https://aistudiocdn.com/docx@^9.5.1",
        "react/": "https://aistudiocdn.com/react@^19.1.1/",
        "react": "https://aistudiocdn.com/react@^19.1.1",
        "react-dom": "https://aistudiocdn.com/react-dom@^19.1.1",
        "react-dom/": "https://aistudiocdn.com/react-dom@^19.1.1/",
        "i18next": "https://aistudiocdn.com/i18next@^25.5.2",
        "@google/genai": "https://aistudiocdn.com/@google/genai@^1.17.0",
        "idb": "https://aistudiocdn.com/idb@^8.0.3",
        "react-i18next": "https://aistudiocdn.com/react-i18next@^15.7.3",
        "i18next-browser-languagedetector": "https://aistudiocdn.com/i18next-browser-languagedetector@^8.2.0",
        "turndown": "https://aistudiocdn.com/turndown@^7.2.1",
        "lexical": "https://aistudiocdn.com/lexical@^0.35.0",
        "@lexical/rich-text": "https://aistudiocdn.com/@lexical/rich-text@^0.35.0",
        "@lexical/list": "https://aistudiocdn.com/@lexical/list@^0.35.0",
        "@lexical/link": "https://aistudiocdn.com/@lexical/link@^0.35.0",
        "@lexical/utils": "https://aistudiocdn.com/@lexical/utils@^0.35.0",
        "@lexical/selection": "https://aistudiocdn.com/@lexical/selection@^0.35.0",
        "@lexical/html": "https://aistudiocdn.com/@lexical/html@^0.35.0"
      }
    }
    </script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            colors: {
              accent: {
                  50:  'rgba(var(--accent-color), 0.05)',
                  100: 'rgba(var(--accent-color), 0.1)',
                  200: 'rgba(var(--accent-color), 0.2)',
                  300: 'rgba(var(--accent-color), 0.4)',
                  400: 'rgba(var(--accent-color), 0.6)',
                  500: 'rgba(var(--accent-color), 1)',
                  600: 'rgba(var(--accent-color), 0.9)',
                  700: 'rgba(var(--accent-color), 0.8)',
                  800: 'rgba(var(--accent-color), 0.7)',
                  900: 'rgba(var(--accent-color), 0.6)',
                  950: 'rgba(var(--accent-color), 0.5)',
              },
            }
          }
        }
      }
    </script>
</head>
<body>
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
</body>
</html>